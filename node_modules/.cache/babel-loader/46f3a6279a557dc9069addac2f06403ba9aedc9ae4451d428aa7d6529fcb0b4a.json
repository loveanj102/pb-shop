{"ast":null,"code":"import{createContext}from\"react\";export const initState={//初始化狀態\ntype:'',title:'',text:''};//useContext 跨元件傳遞\nexport const MessageContext=/*#__PURE__*/createContext({});//Reducer (有一些方法，建立訊息＆刪除訊息)\nexport const messageReducer=(state,action)=>{//state 狀態＆action使用的方法\nswitch(action.type){case\"POST_MESSAGE\":return{...action.payload};case\"CLEAR_MESSAGE\":return{...initState};default:return state;}};export function handleSuccessMessage(dispatch,res){dispatch({type:\"POST_MESSAGE\",payload:{type:'success',title:'更新成功',text:res.data.message}});setTimeout(()=>{dispatch({type:\"CLEAR_MESSAGE\"});},3000);}export function handleErrorMessage(dispatch,error){var _error$response,_error$response$data,_error$response2,_error$response2$data,_error$response3,_error$response3$data;dispatch({type:\"POST_MESSAGE\",payload:{type:'danger',title:'更新失敗',text:Array.isArray(error===null||error===void 0?void 0:(_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)?error===null||error===void 0?void 0:(_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.message.join(\"&\")//如果是陣列就改成字串形式呈現\n:error===null||error===void 0?void 0:(_error$response3=error.response)===null||_error$response3===void 0?void 0:(_error$response3$data=_error$response3.data)===null||_error$response3$data===void 0?void 0:_error$response3$data.message}});setTimeout(()=>{dispatch({type:\"CLEAR_MESSAGE\"});},3000);}","map":{"version":3,"names":["createContext","initState","type","title","text","MessageContext","messageReducer","state","action","payload","handleSuccessMessage","dispatch","res","data","message","setTimeout","handleErrorMessage","error","_error$response","_error$response$data","_error$response2","_error$response2$data","_error$response3","_error$response3$data","Array","isArray","response","join"],"sources":["/Users/nikki.kang/Desktop/Nikki/website/pb-shop/src/store/MessageStore.js"],"sourcesContent":["import { createContext } from \"react\";\n\nexport const initState = { //初始化狀態\n    type: '',\n    title: '',\n    text: '',\n}\n\n//useContext 跨元件傳遞\nexport const MessageContext = createContext({})\n\n\n//Reducer (有一些方法，建立訊息＆刪除訊息)\nexport const messageReducer = (state, action) => { //state 狀態＆action使用的方法\n    switch (action.type) {\n        case \"POST_MESSAGE\":\n            return {\n                ...action.payload\n            };\n        case \"CLEAR_MESSAGE\":\n            return {\n                ...initState,\n            };\n        default:\n            return state;\n    }\n}\n\nexport function handleSuccessMessage(dispatch, res) {\n    dispatch({\n        type: \"POST_MESSAGE\",\n        payload: {\n            type: 'success',\n            title: '更新成功',\n            text: res.data.message,\n        },\n    });\n    setTimeout(() => {\n        dispatch({\n            type: \"CLEAR_MESSAGE\",\n        });\n    }, 3000);\n}\n\nexport function handleErrorMessage(dispatch, error) {\n    dispatch({\n        type: \"POST_MESSAGE\",\n        payload: {\n            type: 'danger',\n            title: '更新失敗',\n            text: Array.isArray(error?.response?.data?.message)\n                ? error?.response?.data?.message.join(`&`) //如果是陣列就改成字串形式呈現\n                : error?.response?.data?.message,\n        },\n    });\n    setTimeout(() => {\n        dispatch({\n            type: \"CLEAR_MESSAGE\",\n        });\n    }, 3000);\n}"],"mappings":"AAAA,OAASA,aAAa,KAAQ,OAAO,CAErC,MAAO,MAAM,CAAAC,SAAS,CAAG,CAAE;AACvBC,IAAI,CAAE,EAAE,CACRC,KAAK,CAAE,EAAE,CACTC,IAAI,CAAE,EACV,CAAC,CAED;AACA,MAAO,MAAM,CAAAC,cAAc,cAAGL,aAAa,CAAC,CAAC,CAAC,CAAC,CAG/C;AACA,MAAO,MAAM,CAAAM,cAAc,CAAGA,CAACC,KAAK,CAAEC,MAAM,GAAK,CAAE;AAC/C,OAAQA,MAAM,CAACN,IAAI,EACf,IAAK,cAAc,CACf,MAAO,CACH,GAAGM,MAAM,CAACC,OACd,CAAC,CACL,IAAK,eAAe,CAChB,MAAO,CACH,GAAGR,SACP,CAAC,CACL,QACI,MAAO,CAAAM,KAAK,CACpB,CACJ,CAAC,CAED,MAAO,SAAS,CAAAG,oBAAoBA,CAACC,QAAQ,CAAEC,GAAG,CAAE,CAChDD,QAAQ,CAAC,CACLT,IAAI,CAAE,cAAc,CACpBO,OAAO,CAAE,CACLP,IAAI,CAAE,SAAS,CACfC,KAAK,CAAE,MAAM,CACbC,IAAI,CAAEQ,GAAG,CAACC,IAAI,CAACC,OACnB,CACJ,CAAC,CAAC,CACFC,UAAU,CAAC,IAAM,CACbJ,QAAQ,CAAC,CACLT,IAAI,CAAE,eACV,CAAC,CAAC,CACN,CAAC,CAAE,IAAI,CAAC,CACZ,CAEA,MAAO,SAAS,CAAAc,kBAAkBA,CAACL,QAAQ,CAAEM,KAAK,CAAE,KAAAC,eAAA,CAAAC,oBAAA,CAAAC,gBAAA,CAAAC,qBAAA,CAAAC,gBAAA,CAAAC,qBAAA,CAChDZ,QAAQ,CAAC,CACLT,IAAI,CAAE,cAAc,CACpBO,OAAO,CAAE,CACLP,IAAI,CAAE,QAAQ,CACdC,KAAK,CAAE,MAAM,CACbC,IAAI,CAAEoB,KAAK,CAACC,OAAO,CAACR,KAAK,SAALA,KAAK,kBAAAC,eAAA,CAALD,KAAK,CAAES,QAAQ,UAAAR,eAAA,kBAAAC,oBAAA,CAAfD,eAAA,CAAiBL,IAAI,UAAAM,oBAAA,iBAArBA,oBAAA,CAAuBL,OAAO,CAAC,CAC7CG,KAAK,SAALA,KAAK,kBAAAG,gBAAA,CAALH,KAAK,CAAES,QAAQ,UAAAN,gBAAA,kBAAAC,qBAAA,CAAfD,gBAAA,CAAiBP,IAAI,UAAAQ,qBAAA,iBAArBA,qBAAA,CAAuBP,OAAO,CAACa,IAAI,IAAI,CAAE;AAAA,CACzCV,KAAK,SAALA,KAAK,kBAAAK,gBAAA,CAALL,KAAK,CAAES,QAAQ,UAAAJ,gBAAA,kBAAAC,qBAAA,CAAfD,gBAAA,CAAiBT,IAAI,UAAAU,qBAAA,iBAArBA,qBAAA,CAAuBT,OACjC,CACJ,CAAC,CAAC,CACFC,UAAU,CAAC,IAAM,CACbJ,QAAQ,CAAC,CACLT,IAAI,CAAE,eACV,CAAC,CAAC,CACN,CAAC,CAAE,IAAI,CAAC,CACZ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}