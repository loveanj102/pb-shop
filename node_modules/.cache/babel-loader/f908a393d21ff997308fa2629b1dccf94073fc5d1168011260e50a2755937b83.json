{"ast":null,"code":"import axios from\"axios\";import{useEffect,useState}from\"react\";import{Link,useParams}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Success(){const{orderId}=useParams();const[orderData,setOrderData]=useState({});const getCart=async()=>{const res=await axios.get(\"/v2/api/\".concat(process.env.REACT_APP_API_PATH,\"/order/\").concat(orderId));console.log(res);setOrderData(res.data.order);};useEffect(()=>{getCart(orderId);},[orderId]);return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{style:{minHeight:'400px',backgroundImage:'url(https://images.unsplash.com/photo-1480399129128-2066acb5009e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1950&q=80)',backgroundPosition:'center center'}}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-5 mb-7\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u9910\\u9EDE\\u9078\\u8CFC\\u6210\\u529F\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:\"\\u89AA\\u611B\\u7684\\u9867\\u5BA2\\uFF0C\\u611F\\u8B1D\\u60A8\\u5728\\u672C\\u5E73\\u53F0\\u8A02\\u9910\\u3002\\u6211\\u5011\\u975E\\u5E38\\u611F\\u6FC0\\u60A8\\u5C0D\\u6211\\u5011\\u7684\\u4FE1\\u4EFB\\u548C\\u652F\\u6301\\uFF0C\\u8B93\\u6211\\u5011\\u6709\\u6A5F\\u6703\\u70BA\\u60A8\\u63D0\\u4F9B\\u7F8E\\u5473\\u7684\\u9910\\u9EDE\\u548C\\u512A\\u8CEA\\u7684\\u670D\\u52D9\\u3002\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:\"\\u611F\\u8B1D\\u60A8\\u9078\\u64C7\\u672C\\u5E73\\u53F0\\uFF0C\\u795D\\u60A8\\u7528\\u9910\\u6109\\u5FEB\\uFF0C\\u751F\\u6D3B\\u6109\\u5FEB\\uFF01\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"btn btn-outline-dark me-2 rounded-0 mb-4\",children:\"\\u56DE\\u5230\\u9996\\u9801\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card rounded-0 py-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header border-bottom-0 bg-white px-4 py-0\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"\\u9078\\u8CFC\\u9910\\u9EDE\\u7D30\\u7BC0\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body px-4 py-0\",children:/*#__PURE__*/_jsx(\"ul\",{className:\"list-group list-group-flush\",children:Object.values((orderData===null||orderData===void 0?void 0:orderData.products)||{}).map(item=>{return/*#__PURE__*/_jsx(\"li\",{className:\"list-group-item px-0\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex mt-2\",children:[/*#__PURE__*/_jsx(\"img\",{src:item.product.imageUrl,alt:\"\",className:\"me-2\",style:{width:'60px',height:'60px'}}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-100 d-flex flex-column\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between fw-bold\",children:[/*#__PURE__*/_jsx(\"h5\",{children:item.product.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"mb-0\",children:[\"x\",item.qty]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between mt-auto\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-muted mb-0\",children:/*#__PURE__*/_jsxs(\"small\",{children:[\"NT$\",item.final_total]})}),/*#__PURE__*/_jsxs(\"p\",{className:\"mb-0\",children:[\"NT$\",item.final_total]})]})]})]})},item.id);})})})]})})]})})]});}export default Success;","map":{"version":3,"names":["axios","useEffect","useState","Link","useParams","jsx","_jsx","jsxs","_jsxs","Success","orderId","orderData","setOrderData","getCart","res","get","concat","process","env","REACT_APP_API_PATH","console","log","data","order","className","children","style","minHeight","backgroundImage","backgroundPosition","to","Object","values","products","map","item","src","product","imageUrl","alt","width","height","title","qty","final_total","id"],"sources":["/Users/nikki.kang/Desktop/Nikki/website/pb-shop/src/pages/front/success.js"],"sourcesContent":["import axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport { Link, useParams } from \"react-router-dom\";\n\n\n\n\nfunction Success() {\n\n    const { orderId } = useParams();\n    const [orderData, setOrderData] = useState({});\n\n\n    const getCart = async () => {\n        const res = await axios.get(`/v2/api/${process.env.REACT_APP_API_PATH}/order/${orderId}`)\n        console.log(res)\n        setOrderData(res.data.order);\n    }\n\n    useEffect(() => {\n\n        getCart(orderId);\n    }, [orderId])\n\n\n    return (\n        <div className='container'>\n            <div\n                style={{\n                    minHeight: '400px',\n                    backgroundImage:\n                        'url(https://images.unsplash.com/photo-1480399129128-2066acb5009e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1950&q=80)',\n                    backgroundPosition: 'center center',\n                }}\n            ></div>\n            <div className='mt-5 mb-7'>\n                <div className='row'>\n                    <div className='col-md-6'>\n                        <h2>餐點選購成功</h2>\n                        <p className='text-muted'>\n                            親愛的顧客，感謝您在本平台訂餐。我們非常感激您對我們的信任和支持，讓我們有機會為您提供美味的餐點和優質的服務。\n                        </p>\n                        <p className='text-muted'>\n                            感謝您選擇本平台，祝您用餐愉快，生活愉快！\n                        </p>\n                        <Link to='/' className='btn btn-outline-dark me-2 rounded-0 mb-4'>\n                            回到首頁\n                        </Link>\n                    </div>\n                    <div className='col-md-6'>\n                        <div className='card rounded-0 py-4'>\n                            <div className='card-header border-bottom-0 bg-white px-4 py-0'>\n                                <h2>選購餐點細節</h2>\n                            </div>\n                            <div className='card-body px-4 py-0'>\n                                <ul className='list-group list-group-flush'>\n                                    {Object.values(orderData?.products || {}).map((item) => {\n                                        return (\n\n                                            <li className='list-group-item px-0' key={item.id}>\n                                                <div className='d-flex mt-2'>\n                                                    <img\n                                                        src={item.product.imageUrl}\n                                                        alt=''\n                                                        className='me-2'\n                                                        style={{ width: '60px', height: '60px' }}\n                                                    />\n                                                    <div className='w-100 d-flex flex-column'>\n                                                        <div className='d-flex justify-content-between fw-bold'>\n                                                            <h5>{item.product.title}</h5>\n                                                            <p className='mb-0'>x{item.qty}</p>\n                                                        </div>\n                                                        <div className='d-flex justify-content-between mt-auto'>\n                                                            <p className='text-muted mb-0'>\n                                                                <small>NT${item.final_total}</small>\n                                                            </p>\n                                                            <p className='mb-0'>NT${item.final_total}</p>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </li>\n\n\n                                        )\n\n                                    })}\n\n\n                                </ul>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default Success;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,OAASC,IAAI,CAAEC,SAAS,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAKnD,QAAS,CAAAC,OAAOA,CAAA,CAAG,CAEf,KAAM,CAAEC,OAAQ,CAAC,CAAGN,SAAS,CAAC,CAAC,CAC/B,KAAM,CAACO,SAAS,CAAEC,YAAY,CAAC,CAAGV,QAAQ,CAAC,CAAC,CAAC,CAAC,CAG9C,KAAM,CAAAW,OAAO,CAAG,KAAAA,CAAA,GAAY,CACxB,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAd,KAAK,CAACe,GAAG,YAAAC,MAAA,CAAYC,OAAO,CAACC,GAAG,CAACC,kBAAkB,YAAAH,MAAA,CAAUN,OAAO,CAAE,CAAC,CACzFU,OAAO,CAACC,GAAG,CAACP,GAAG,CAAC,CAChBF,YAAY,CAACE,GAAG,CAACQ,IAAI,CAACC,KAAK,CAAC,CAChC,CAAC,CAEDtB,SAAS,CAAC,IAAM,CAEZY,OAAO,CAACH,OAAO,CAAC,CACpB,CAAC,CAAE,CAACA,OAAO,CAAC,CAAC,CAGb,mBACIF,KAAA,QAAKgB,SAAS,CAAC,WAAW,CAAAC,QAAA,eACtBnB,IAAA,QACIoB,KAAK,CAAE,CACHC,SAAS,CAAE,OAAO,CAClBC,eAAe,CACX,6IAA6I,CACjJC,kBAAkB,CAAE,eACxB,CAAE,CACA,CAAC,cACPvB,IAAA,QAAKkB,SAAS,CAAC,WAAW,CAAAC,QAAA,cACtBjB,KAAA,QAAKgB,SAAS,CAAC,KAAK,CAAAC,QAAA,eAChBjB,KAAA,QAAKgB,SAAS,CAAC,UAAU,CAAAC,QAAA,eACrBnB,IAAA,OAAAmB,QAAA,CAAI,sCAAM,CAAI,CAAC,cACfnB,IAAA,MAAGkB,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,4UAE1B,CAAG,CAAC,cACJnB,IAAA,MAAGkB,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,gIAE1B,CAAG,CAAC,cACJnB,IAAA,CAACH,IAAI,EAAC2B,EAAE,CAAC,GAAG,CAACN,SAAS,CAAC,0CAA0C,CAAAC,QAAA,CAAC,0BAElE,CAAM,CAAC,EACN,CAAC,cACNnB,IAAA,QAAKkB,SAAS,CAAC,UAAU,CAAAC,QAAA,cACrBjB,KAAA,QAAKgB,SAAS,CAAC,qBAAqB,CAAAC,QAAA,eAChCnB,IAAA,QAAKkB,SAAS,CAAC,gDAAgD,CAAAC,QAAA,cAC3DnB,IAAA,OAAAmB,QAAA,CAAI,sCAAM,CAAI,CAAC,CACd,CAAC,cACNnB,IAAA,QAAKkB,SAAS,CAAC,qBAAqB,CAAAC,QAAA,cAChCnB,IAAA,OAAIkB,SAAS,CAAC,6BAA6B,CAAAC,QAAA,CACtCM,MAAM,CAACC,MAAM,CAAC,CAAArB,SAAS,SAATA,SAAS,iBAATA,SAAS,CAAEsB,QAAQ,GAAI,CAAC,CAAC,CAAC,CAACC,GAAG,CAAEC,IAAI,EAAK,CACpD,mBAEI7B,IAAA,OAAIkB,SAAS,CAAC,sBAAsB,CAAAC,QAAA,cAChCjB,KAAA,QAAKgB,SAAS,CAAC,aAAa,CAAAC,QAAA,eACxBnB,IAAA,QACI8B,GAAG,CAAED,IAAI,CAACE,OAAO,CAACC,QAAS,CAC3BC,GAAG,CAAC,EAAE,CACNf,SAAS,CAAC,MAAM,CAChBE,KAAK,CAAE,CAAEc,KAAK,CAAE,MAAM,CAAEC,MAAM,CAAE,MAAO,CAAE,CAC5C,CAAC,cACFjC,KAAA,QAAKgB,SAAS,CAAC,0BAA0B,CAAAC,QAAA,eACrCjB,KAAA,QAAKgB,SAAS,CAAC,wCAAwC,CAAAC,QAAA,eACnDnB,IAAA,OAAAmB,QAAA,CAAKU,IAAI,CAACE,OAAO,CAACK,KAAK,CAAK,CAAC,cAC7BlC,KAAA,MAAGgB,SAAS,CAAC,MAAM,CAAAC,QAAA,EAAC,GAAC,CAACU,IAAI,CAACQ,GAAG,EAAI,CAAC,EAClC,CAAC,cACNnC,KAAA,QAAKgB,SAAS,CAAC,wCAAwC,CAAAC,QAAA,eACnDnB,IAAA,MAAGkB,SAAS,CAAC,iBAAiB,CAAAC,QAAA,cAC1BjB,KAAA,UAAAiB,QAAA,EAAO,KAAG,CAACU,IAAI,CAACS,WAAW,EAAQ,CAAC,CACrC,CAAC,cACJpC,KAAA,MAAGgB,SAAS,CAAC,MAAM,CAAAC,QAAA,EAAC,KAAG,CAACU,IAAI,CAACS,WAAW,EAAI,CAAC,EAC5C,CAAC,EACL,CAAC,EACL,CAAC,EApBgCT,IAAI,CAACU,EAqB3C,CAAC,CAKb,CAAC,CAAC,CAGF,CAAC,CACJ,CAAC,EACL,CAAC,CACL,CAAC,EACL,CAAC,CACL,CAAC,EACL,CAAC,CAEd,CAEA,cAAe,CAAApC,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}